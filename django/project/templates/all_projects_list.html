{% extends "base.html" %}

{% block body %}

<style>

/* Optional: Add your custom styles here */
th.col-10 {
    width: 10%; /* Adjust the width as needed */
}

th.col-5 {
    width: 5%; /* Adjust the width as needed */
}


th.col-65 {
    width: 65%; /* Adjust the width as needed */
}

th.col-15 {
    width: 15%; /* Adjust the width as needed */
}

th.col-30 {
    width: 30%; /* Adjust the width as needed */
}



</style>


<div class="container mt-5">

    <!--! SubNavBar  -->
    <div class="horizontal">
        <h3>Project List</h3>
        <div class="spacer"></div>

        <!--! Search Bar  -->
        <div class="mr-3">
            <form action="{% url 'all_projects_list' %}" method="get">
                <input type="text" name="q" value="{{ q }}">
                <input type="hidden" name="sort" value="{{sort}}">
                <button type="submit" class="button green">Search</button>
            </form>
        </div>
        <a class="button blue" href="{% url 'add_project' %}">New Project</a>
    </div> 

    <br>


    <table class="table-hover">
        <thead>
            <tr>
                <th class="col-5 p-0">UID</th>
                <th class="col-65 p-0">Title</th>
                <th class="col-10 p-0">Username</th>
                <th class="col-10 p-0">Created</th>
                <th class="col-10 p-0">Status</th>
            </tr>
        </thead>
        <tbody>
            {% for project in projects %}
                <tr class="status {{project.get_status_color}}">
                    <td>{{ project.id }}</td>
                    <td><a class="link shorten-title status {{project.get_status_color}}" href="{% url 'detail_project' project.id %}">{{ project.title }} {{project.show_number_comments}}</a></td>
                    <td>{{ project.get_created_user_info.username  }}</td>
                    <td>{{ project.show_time_created_ago }}</td>
                    <td>{{ project.get_status_str }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}